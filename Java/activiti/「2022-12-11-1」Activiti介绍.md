```text
Activiti介绍
2022-12-11
Java > Activiti
```

# 工作流

## 工作流的概念

工作流的简单概念就是用于流程审批的。

如：请假审批流程、报销审批流程等

工作流（workflow）就是“业务过程的部分或整体在计算机应用环境下的自动化”，它主要解决的是“使在多个参与者之间按照某种预定义的规则传递文档、信息或任务的过程自动进行”，从而实现某个预期的业务目标，或者促使此目标的实现“。

## 工作流引擎

工作流引擎，主要是为了帮助我们实现流程自动化控制。

Activiti引擎是一种工作流引擎。

工作流管理系统是一个软件系统，它完成工作量的定义和管理，并按照在系统中预先定义好的工作流规则进行工作流实例的执行。

## 工作流应用场景

业务类：合同审批、订单处理、出入库审批等

行政类：请假流程、出差流程、用车流程等

财务类：报销流程、支付流程等

客户服务类：售后跟踪、客户投诉等

# Activiti

## Activiti简介

Activiti是由jBMP（BMP，Business Process Managerment，即业务流程管理）的创建者Tom Baeyens离开JBoss之后建立的项目，构建在开发jBMP版本1到4时积累的多年经验的基础之上，旨在创建下一代的BMP解决方案。

Activiti是一个开源的工作流引擎，实现了BPMN2.0规范，可以发布设计好的流程定义，并通过api进行流程调度。

Activiti作为一个遵从Apache许可的工作流和业务流程管理开源平台，其核心是基于Java的超快速、超稳定的BPMN2.0流程引擎，强调流程服务的可嵌入型和可扩展性，同时更加强调面向业务人员。

Activiti流程引擎重点关注在系统开发的易用性和轻量性上。每一项BPM业务功能Activiti流程引擎都以服务的形式提供给开发人员。通过使用这些服务，开发人员能够构建出功能丰富、轻便且高效的BPM应用程序。

Activiti是一个针对企业用户、开发人员、系统管理员的轻量级工作流业务管理平台，其核心是使用Java开发的快速、稳定的BPMN2.0流程引擎。Activiti是在ApacheV2许可下发布的，可以运行在任何类型的Java程序中，例如服务器、集群、云服务等。Activiti可以完美地与Spring集成。同时，基于简约的设计使Activiti非常轻量级。

官网：[https://www.activiti.org/](https://www.activiti.org/)

## Activiti开发流程

1. **画流程定义模型：**遵守BPMN的流程规范，使用BPMN的流程定义工具，通过流程符号把整个业务流程定义出来，可以将流程定义文件字节流保存到模型数据表中（Model）。
2. **部署流程定义：**加载画好的流程定义文件，将它转换成流程定义数据（ProcessDefinition），保存到流程定义数据表中。
3. **启动流程（提交流程申请）：**生成流程实例数据（ProcessInstance），生成第1节点任务数据（Task）。
4. **处理人审批流程节点任务：**完成任务审批，生成审批结果，生成下一节点任务数据。

## BPMN 2.0规范

业务流程模型注解（Business Process Modeling Notation - BPMN）是业务流程模型的一种标准图形注解。这个标准是由对象管理组（Object Management Group - OMG）维护的。

标准的早期版本（1.2版本以及之前）仅仅限制在模型上，目标是在所有利益相关者之间形成通用的理解，在文档、讨论和实现业务流程之上。BPMN标准证明了它自己，现在市场上许多建模工具都使用了BPMN标准中的元素和结构。

BPMN规范的2.0版本，当前已经处于最终阶段了，允许添加精确的技术细节在BPMN的图形和元素中，同时制定BPMN元素的执行语法。通过使用XML语言来指定业务流程的可执行语法，BPMN规范已经演变为业务流程的语言，可以执行在任何兼容BPMN2的流程引擎中，同时依然可以使用强大的图形注解。

目前BPMN2.0是最新的版本，它用于在BPM上下文中进行布局和可视化的沟通。BPMN2.0是使用一些符号来明确业务流程设计流程图的一整套符号规范，它能增进业务建模时的沟通效率。

## BPMN 2.0基本流程符号













